{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/deepakps/Documents/GitHub/AI_fitness_coach/backend/tts.ts"],"sourcesContent":["const DEFAULT_VOICE_ID = process.env.ELEVENLABS_VOICE_ID || \"21m00Tcm4TlvDq8ikWAM\"\n\nexport async function synthesizeSpeech(section: string, text: string): Promise<string> {\n  if (!process.env.ELEVENLABS_API_KEY) {\n    throw new Error(\"ELEVENLABS_API_KEY is not set\")\n  }\n  if (!text) {\n    throw new Error(\"Missing text\")\n  }\n\n  const ttsRes = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${DEFAULT_VOICE_ID}`, {\n    method: \"POST\",\n    headers: {\n      \"xi-api-key\": process.env.ELEVENLABS_API_KEY,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      text,\n      voice_settings: { stability: 0.4, similarity_boost: 0.6 },\n      model_id: \"eleven_multilingual_v2\",\n      output_format: \"mp3_44100_128\",\n      metadata: { section },\n    }),\n  })\n\n  if (!ttsRes.ok) {\n    const errText = await ttsRes.text()\n    throw new Error(errText || \"TTS failed\")\n  }\n\n  const buffer = await ttsRes.arrayBuffer()\n  return Buffer.from(buffer).toString(\"base64\")\n}\n"],"names":[],"mappings":";;;;AAAA,MAAM,mBAAmB,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAErD,eAAe,iBAAiB,OAAe,EAAE,IAAY;IAClE,IAAI,CAAC,QAAQ,GAAG,CAAC,kBAAkB,EAAE;QACnC,MAAM,IAAI,MAAM;IAClB;IACA,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAS,MAAM,MAAM,CAAC,4CAA4C,EAAE,kBAAkB,EAAE;QAC5F,QAAQ;QACR,SAAS;YACP,cAAc,QAAQ,GAAG,CAAC,kBAAkB;YAC5C,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YACnB;YACA,gBAAgB;gBAAE,WAAW;gBAAK,kBAAkB;YAAI;YACxD,UAAU;YACV,eAAe;YACf,UAAU;gBAAE;YAAQ;QACtB;IACF;IAEA,IAAI,CAAC,OAAO,EAAE,EAAE;QACd,MAAM,UAAU,MAAM,OAAO,IAAI;QACjC,MAAM,IAAI,MAAM,WAAW;IAC7B;IAEA,MAAM,SAAS,MAAM,OAAO,WAAW;IACvC,OAAO,OAAO,IAAI,CAAC,QAAQ,QAAQ,CAAC;AACtC"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/deepakps/Documents/GitHub/AI_fitness_coach/app/api/speak/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport { synthesizeSpeech } from \"@/backend/tts\"\n\nexport async function POST(req: Request) {\n  try {\n    const { section, text } = (await req.json()) as { section: string; text: string }\n    const audioBase64 = await synthesizeSpeech(section, text)\n    return NextResponse.json({ audioBase64 })\n  } catch (error) {\n    console.error(\"/api/speak error\", error)\n    return NextResponse.json({ error: (error as Error).message || \"Unexpected error\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAI,MAAM,IAAI,IAAI;QACzC,MAAM,cAAc,MAAM,IAAA,oIAAgB,EAAC,SAAS;QACpD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAY;IACzC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,AAAC,MAAgB,OAAO,IAAI;QAAmB,GAAG;YAAE,QAAQ;QAAI;IACpG;AACF"}}]
}